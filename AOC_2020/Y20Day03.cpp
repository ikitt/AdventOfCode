#include "Y20Day03.h"

Y20Day03::Y20Day03()
{

}

int Y20Day03::computFirstResult()
{
    int res = computeSlope(3,1);
//    int totalTree = 0;
//    int currentX = 0;
//    int currentY = 0;

//    const int PLUS_X = 3;
//    const int PLUS_Y = 1;

//    bool arrived = false;

//    while (!arrived) {
//        if(_input[currentY][currentX] == _tree)
//            totalTree++;

//        if(currentY + PLUS_Y >= _input.size())
//            arrived = true;
//        else{
//            currentY += PLUS_Y;
//            currentX = (currentX + PLUS_X) %  _input[currentY].size();
//        }
//    }


//    fprintf(stdout, "Meet a total of %i trees\r\n", totalTree);
//    fflush(stdout);

    return res;
}


long long int Y20Day03::computSecondResult()
{
    long long int res11 = computeSlope(1,1);
    long long int res31 = computeSlope(3,1);
    long long int res51 = computeSlope(5,1);
    long long int res71 = computeSlope(7,1);
    long long int res12 = computeSlope(1,2);

    long long int finalRes = res11*res31*res51*res71*res12;

    fprintf(stdout, "Final multiplication give %i\r\n", finalRes);
    fflush(stdout);

    return finalRes;
}


int Y20Day03::computeSlope(int plus_x, int plus_y)
{
    int totalTree = 0;
    int currentX = 0;
    int currentY = 0;

    const int PLUS_X = plus_x;
    const int PLUS_Y = plus_y;

    bool arrived = false;

    while (!arrived) {
        if(_input[currentY][currentX] == _tree)
            totalTree++;

        if(currentY + PLUS_Y >= _input.size())
            arrived = true;
        else{
            currentY += PLUS_Y;
            currentX = (currentX + PLUS_X) %  _input[currentY].size();
        }
    }


    fprintf(stdout, "Meet a total of %i trees for +x = %i and +y = %i\r\n", totalTree, PLUS_X, PLUS_Y);
    fflush(stdout);

    return totalTree;
}

const QString Y20Day03::_tree = "#";
const QString Y20Day03::_snow = ".";
const QStringList Y20Day03::_input = {
    "........#..#.##.#..............",
    "...#...............#.#.........",
    "...#..#...#..##....#...........",
    "...#.............#....#.....#..",
    "..#......#..#...#.......#......",
    "..............##...............",
    "#.......#.........#......#....#",
    ".#.....###.....#...#.#.#...#...",
    "#.....................#....#.#.",
    ".......#...................#...",
    "...#.#...................#....#",
    "....#....#.......#...#.........",
    "..##.#............#..#.........",
    ".....##.#..............##..###.",
    "...........#....#....#.........",
    "#.....#...#...#.#.#.#.##.#...#.",
    ".#...............#....##.......",
    ".....#..#......#....#.......##.",
    ".....#........#.......#........",
    "...#...##...#..##...#.....##...",
    ".....#.........#.###...##...#..",
    ".#.##...#........#.#.#.#....#..",
    "....#......##.#...#.....#....#.",
    ".......###..........#..#..#....",
    "......#...#.##.................",
    "....#...#...#.........#......#.",
    ".....#...........#...###....#..",
    ".....#...#.#.#....##.#......#.#",
    "......#...#.....#..#..#........",
    "#......#..#...##........###....",
    "##.....#....##..#.#.###.#...#..",
    "........#....#.......#.....#..#",
    "#.#.#.##.#.#...................",
    "..#...##....#......#.....##....",
    ".......#.##..#........##..#....",
    ".#.#....##......#.#..........#.",
    "#..............#............#..",
    ".#.#.#.#.#.####.#.#...##.......",
    ".#..#.....##.#.......#.##...#..",
    "..#.#........#.............#.#.",
    "..#.#..........#..#........#...",
    "..#..#...#.......##...#.#....##",
    "...#.....#.#.#.....#....#....#.",
    ".#...#......#.....#..##........",
    "...#.......##.#.#.....#......#.",
    "...........#.....#.#.......#...",
    "#...........#...#..#.#........#",
    "....#......#..##........#..###.",
    ".#..#........................#.",
    "#.......#......#...#...#..#....",
    "....#.#...#..#.#....#....##.#..",
    ".....#......#..#..........##.#.",
    ".#.....#...........#.........#.",
    "...###.#...#.......#.#.........",
    ".......#....#..........#..#...#",
    "......##..#.......#...##.......",
    "..#..........#.......#.........",
    "..........#..#..#..#..#........",
    ".#.................####...#.#.#",
    "..##.....#............#........",
    "....#.....###...#......#....#.#",
    "...##.#...........#.##......#..",
    "#..##..#..#....#...#..#........",
    "......#....#........#.......#..",
    "......#.....#......###.........",
    ".#.....#.#......#.......#......",
    "..#.........#..#..#........##.#",
    "..#.#....#.....#....##....#.#..",
    "...#.............##............",
    "........#..#..#......#...#.....",
    ".....#.#...#...##.....#.....#..",
    ".#..#.#..........##...##.....#.",
    "......##.#..........#...#.....#",
    "#.#.##......#....#..........#..",
    "................#.......#.##...",
    "#.......#.....#.......#....#...",
    "#..#.....#.##..##...........#..",
    ".....#....#.#.##..........#..##",
    "#.......#.....#.##...........#.",
    "........#.##........###..#.#...",
    "........#..................#...",
    "#.........................#...#",
    "....#.........#...#.#..#.....#.",
    ".#............#....#...........",
    "..#.#...#..##...#.#.......#....",
    ".#.#....#...........#.........#",
    "...#.#..........#.....#...#....",
    "......#....#.#...............##",
    "....##......###...##.##.....##.",
    "............#.#....#.#.....#..#",
    ".....#..#.....#.#...###....#...",
    ".......##....##..#...##..#...##",
    ".....#.......##..#...#...#....#",
    "#.........##....#........###.#.",
    "...#..##...#...#.........#.#.#.",
    "....#.#.....#.....#............",
    "#........#....#..#........#....",
    ".......#....#...#..............",
    "#...#.........##.....###.#.....",
    ".#....##..#...#..##.........#..",
    "....#.....#......##..#..#....#.",
    "#.#..#.........#........#......",
    "..#.......#.........#.....###..",
    "..#..........#...........#....#",
    "..#...............#......#..#..",
    "....#..#...#....###.....#..#..#",
    "#...#...#..#...........#....#..",
    ".#....#.#..#....#.#...........#",
    ".....#.....#..#....#..#....#...",
    "#.#..#...........#.#...........",
    "..................#.#.......#..",
    "...#.........#.....#..##....#..",
    ".........#.#...#.........##....",
    "...#..#....#.....#...#..#......",
    ".#.##.....#....#....#......##..",
    "##..#.........#.#....#...#.....",
    "#......#.#...#....#.#..#.......",
    ".......#.....#.....###....#.#..",
    ".#....##.#.....#...#.......#...",
    ".#.......#..#...#......#..#..##",
    "...............#...#...........",
    "#..............#....#.#.#....#.",
    "...........#..#.......#.##..#..",
    "..#......#.#....#...#.#.....#..",
    "#..............................",
    "#..#....#..........#...#.......",
    "......#.............#####......",
    ".#...###......#.#.#.##..#......",
    "............#.##.....#.........",
    ".........#....##....#..........",
    "###....#......#.......#........",
    ".#.......##..........#..#....#.",
    "#..#.....................#....#",
    "........#...........#..........",
    "..#..........#...#..#.........#",
    "..#..#......##................#",
    ".....##..#...#..#..............",
    ".......#...##..#...............",
    ".......##..#.####....#....#.#..",
    "#.#..#..........#........##....",
    "....##....#.#..#....#.#...#....",
    "......#.......#...#.....#...#..",
    "..#..#...#.....#.......###.....",
    "...#.......#.#.#.......#.##....",
    "...............#..#.#........#.",
    ".#....###.#......#.............",
    ".#..#...#....#.#..#.....#......",
    ".......#.##....#.#.##.##...#.#.",
    "..#...#....#.#..##.#.....#...##",
    "..#...#......#...#......#...#..",
    "....#..#...#.#..#......#.......",
    "#..#...............#......#.##.",
    ".#....#...#..........#.#.....#.",
    ".#..#.#.#................#..#..",
    ".#....#.#...#..##.###..#...###.",
    "#.............#.....#.........#",
    "...#.........#...#.......#..#..",
    "......#..#.........#..........#",
    "........##................#..#.",
    "......#...#.#.....#......##....",
    "...............#...#....#......",
    "...#.#..#..#.....##.###..##..#.",
    ".#....##......#...#..##..#.....",
    ".....#.........##.##....#...#..",
    ".....#.#..................####.",
    "#.....#...#.............##....#",
    "#.#..........#...#..#..#.......",
    "#..#.#.........#...............",
    "....#...#.........#...##.......",
    "...........#.....#..##..#......",
    "#.....#.......#.#........#.....",
    "..##..#.....#...##......#......",
    "....#....#.....................",
    "............#......#.........##",
    ".....##.............#.....##..#",
    ".......#.............#..#.#.##.",
    ".###...#......#..#........##.#.",
    "..#.#...#.#....#.....#..#......",
    "..#.#..#.##........#...#.......",
    "........#.#...............#..#.",
    "........##.......#...#.......#.",
    "...#........##.#..........#.#.#",
    "..#..###.#.#.......#.#......#..",
    "....#..........#...#..#........",
    "...#..#...#...#.#....#...#..#..",
    "...#...#........#......##...#.#",
    "#...........#..........#..#.##.",
    "...#..##..................#.#..",
    "...##.#...#....#.#...#.####....",
    ".....#...#.#.#..#..............",
    ".....#..#.#.#..#...............",
    "..#..#..##...#.#..#.....##....#",
    ".......#.#..#.....#....#.......",
    "...#..#....#.........#...#.....",
    "..............#.#...#...##.....",
    "...................#...........",
    ".#......#.#...................#",
    ".##.....#........#.........#..#",
    ".##..##...#...................#",
    "...#....#.#..#.#.#..#.....##...",
    ".......#..#....#......####.#...",
    ".##..#..##....#.......#........",
    ".#...#...........##............",
    ".....#.....#........#..........",
    "....##..#....#.....#...........",
    ".#...#....................#....",
    "....#.........#.......##.....#.",
    ".#....#..#.....#.##....#.......",
    "....#..#.........#.#....#.#....",
    ".......#.........##....#.......",
    "..#......#....#....#...#.......",
    "........#..#.......#.##......#.",
    "..#.....#......#...#..#.......#",
    "#..#.....##...#...#............",
    ".......##.......#........#...#.",
    "..#......................#...#.",
    "....##.#.............#......#..",
    "#.#............................",
    "...##.#.....#.#............#.##",
    "......#...#..#.........##......",
    ".#.......#.....##.......#.#....",
    "...........#.#.........#..##...",
    "...#..........#.##....#........",
    "........#..#..#...#....#....#..",
    "........##....#.#....#........#",
    "..#........##....###....#......",
    "#................###...#...#...",
    "................#.#..###......#",
    "..#.....##.#................#..",
    ".....#...............#..#......",
    "..#.......####.....#..#.#....##",
    "..#.....#..#....#..............",
    "#.#...........#.#.....#..##....",
    "#.#..........#.......#...#.###.",
    "........#....#...#..#.#........",
    ".#.....#......#..#..#..###..#..",
    ".#.........#.##.#.#......##....",
    "..#.........#...##..#........#.",
    ".#...................#.........",
    "...#.#........#................",
    "............#.....#..##........",
    "..#.....#.#......#.......#...#.",
    "........#....##..##...#.....##.",
    ".#........#.#....#.#....#.#..#.",
    "#.#.......#....................",
    ".#..#...##.........#..#........",
    ".........#...............#.....",
    "...#...#.....#......#.......#..",
    "###......................#.#..#",
    "...#.....####........#..#.....#",
    "#.#...#.#...................##.",
    ".........#.....................",
    "#..........##..#.....#....#....",
    ".......#...#.#.##.#..##........",
    "..........#..#.#..#.#.......#.#",
    ".....................#.#...#...",
    "...........#.#........#.#.#....",
    ".......#......#........#...#.#.",
    ".........#....................#",
    ".##.##....#...#.#.#.#..........",
    "#....##..#.##....#....#.......#",
    ".##.#...#...............#....#.",
    ".......#...#.###....#..........",
    ".....#....#...#..#.............",
    "#.........#.##....#.#.#........",
    "..#...#.............##..#..#...",
    "#..##.......#..........#...#.#.",
    ".#..#.....#...........#......#.",
    "......#......#..............##.",
    ".#...#..#...#..####.....#.....#",
    "....##.......#..........##.....",
    ".#.....#.......#.....#.#...#...",
    "..#..#..#.#...#......#.........",
    "......#.#....#........#.......#",
    "........#.......#..............",
    "..#...#.#....#........#.......#",
    "............#....#...##.#......",
    ".........#.............#..#....",
    "#.............#.#..##.......#..",
    "#....#...........###....#......",
    "...#.....................#.....",
    "....#.#..........#...#.......#.",
    "......#..#.......#...#...#....#",
    ".#.#..#.....##.#........#......",
    "...........#...#.#.............",
    "...###............#...#..#.....",
    "..#.#.......#...#.#..#.........",
    ".#......##...........#.....#.##",
    ".....##.....#....##...##.#.#...",
    "..........#.#.#......#........#",
    "..#.#........#....##....#.#....",
    ".#....#...##...........#....#..",
    "##......#...#.......#..........",
    ".##...###..#...#......#..##.#.#",
    "...........##.#..##...#.......#",
    "..#..............##............",
    "........#..#........#...#..#.#.",
    "..#.............#......#...##..",
    "#...##....#...#....#....#.#....",
    ".#.#......#..##............#.#.",
    ".....###.#....##....#....#.....",
    "#.#.#..........#...#...#.#.#...",
    ".....#.#...........####........",
    ".....#....##...#.##..#......#..",
    "#....#.......#.##.......#..#...",
    ".....#.....#........#..........",
    ".......#.......#...#.##......#.",
    "...#.........##...#.#.#......##",
    "#........#........#...#..#.....",
    ".#......#.#......#.#...#....#..",
    "#..#....##.....##..............",
    "...#.##............#..........#",
    ".....#.#....#..#.#............#",
    "..#......#...###.##.......###..",
    "........#....#.#.#.#...........",
    "............#..#........#.....#",
    "....#...............#..........",
    "......#....#....###..#.......##",
    "#...#...##....#.........#...#..",
    "...........#.#.............#...",
    "...#..#.....#..##.#....#......#",
    "..#...#..#...#......#..........",
    "....#..#....#.......#........#."
};
